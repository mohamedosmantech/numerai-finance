# Development Environment Configuration
# Usage: SPRING_PROFILES_ACTIVE=dev or --spring.profiles.active=dev

server:
  port: ${PORT:8002}

spring:
  # PostgreSQL for dev (can use local Docker or Railway dev DB)
  datasource:
    url: ${SPRING_DATASOURCE_URL:jdbc:postgresql://localhost:5432/numerai_dev}
    username: ${SPRING_DATASOURCE_USERNAME:postgres}
    password: ${SPRING_DATASOURCE_PASSWORD:postgres}

  jpa:
    show-sql: true
    properties:
      hibernate:
        format_sql: true

  # H2 Console for debugging (if using H2)
  h2:
    console:
      enabled: true

  # Disable template caching for hot reload
  thymeleaf:
    cache: false

# More verbose logging for development
logging:
  level:
    com.fincalc: DEBUG
    org.springframework.web: DEBUG
    org.springframework.security: DEBUG
    org.hibernate.SQL: DEBUG
    org.hibernate.type.descriptor.sql.BasicBinder: TRACE
    liquibase: INFO

# Actuator - expose all endpoints in dev
management:
  endpoints:
    web:
      exposure:
        include: "*"
  endpoint:
    health:
      show-details: always
  tracing:
    sampling:
      probability: 1.0

# Dev admin credentials (less secure for convenience)
fincalc:
  admin:
    username: ${ADMIN_USERNAME:admin}
    password: ${ADMIN_PASSWORD:admin123}
